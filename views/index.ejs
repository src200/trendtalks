<html>
    <head>
        <meta charset="UTF-8">
        <title>TrendTalks</title>
        <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
        <link rel="stylesheet" href="stylesheets/style.css">  
        <!-- <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"> -->
        <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    </head>
    <body>
        <div class="container">
            <div class="row">
                <% repos.forEach(function(repo){ %>
                    <div class="col-sm-9" style="margin: 15px">
                        <div class="card">
                            <div class="card-body">
                                <a href="<%= repo.url%>" target="_blank">
                                    <span class="card-title"><%= repo.author%> / <%= repo.name%></span>
                                </a>
                                <!-- <span>
                                    <img id="hn" data-tipped-options="ajax: { url: '/hn?q= <%=repo.url%>' }" class="res-image" src="https://news.ycombinator.com/favicon.ico">
                                    <img id="reddit" class="res-image" src="https://www.redditstatic.com/desktop2x/img/favicon/favicon-96x96.png">
                                    <a href="https://twitter.com/search?src=typed_query&q=<%=repo.url%>" target="_blank">
                                        <img id="twitter" class="res-image" src="https://abs.twimg.com/favicons/favicon.ico">
                                    </a>
                                </span> -->
                                <p class="card-text"><%= repo.description%></p>
                            </div>
                            <div class="card-footer">                                
                                <div class="f6 text-gray mt-2">
                                    <% if (repo.language) { %>
                                        <span class="d-inline-block mr-3">
                                            <span class="repo-language-color ml-0" style="background-color: <%= repo.languageColor%>"></span>
                                            <span>
                                                <%= repo.language %>
                                            </span>
                                        </span>
                                    <% } %>
                                    <span class="muted-link d-inline-block mr-3">
                                        <svg aria-label="star" class="octicon octicon-star" viewBox="0 0 14 16" version="1.1" width="14" height="16" role="img"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z"></path></svg>
                                        <%= repo.stars %>
                                    </span>
                                  
                                    <span class="muted-link d-inline-block mr-3">
                                        <svg aria-label="fork" class="octicon octicon-repo-forked" viewBox="0 0 10 16" version="1.1" width="10" height="16" role="img"><path fill-rule="evenodd" d="M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
                                        <%= repo.forks %>
                                    </span>
                                  
                                    <span class="d-inline-block">
                                        Authored by
                                        <% repo.builtBy.forEach(function(user) { %>
                                            <a class="d-inline-block" target="_blank" href="<%= user.href%>"><img class="avatar mb-1" src="<%= user.avatar%>" width="20" height="20"></a>
                                        <% }); %>
                                    </span>
                                </div>
                                <div class="mt-15">
                                    <ul id="twitter-<%= repo.name.replace(/[^a-zA-Z ]/g, '')%>">
                                        <li>
                                            <a class="repo-article" href="https://twitter.com/search?src=typed_query&q=<%=repo.url%>" target="_blank">
                                                <%= repo.description %>
                                            </a>
                                            <span class="text-gray text-muted" style="font-size: 10px">Twitter</span>
                                            <button class="see-more-btn" id="<%= repo.name.replace(/[^a-zA-Z ]/g, '')%>-btn" type="button" onclick="fetchUrls(<%=JSON.stringify(repo)%>)">See more..</button>                                            
                                        </li>
                                    </ul>
                                    <ul id="hn-<%= repo.name.replace(/[^a-zA-Z ]/g, '')%>"></ul>
                                    <ul id="reddit-<%= repo.name.replace(/[^a-zA-Z ]/g, '')%>"></ul>
                                </div>
                            </div>
                            <div class="text-center">
                                <img id="<%= repo.name.replace(/[^a-zA-Z ]/g, '')%>-loader" class="loader" alt="Loading..." src="https://cdn.dribbble.com/users/2234430/screenshots/4925025/gif.gif">
                            </div>
                            <!-- <div class="text-center">
                                <img class="loader" id="<%= repo.name.replace(/[^a-zA-Z ]/g, '')%>-loader" src="images/loader.gif" />
                            </div> -->
                        </div>
                    </div>
                <% }); %>
            </div>
        </div>
        <script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
        <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script> -->
        <script type="text/javascript" src="js/index.js"></script>
    </body>
</html>